import{at as h,n as M,c as v,a as d,w as F,a9 as b,aM as B,t as w,ad as E}from"./main.78b17f62.js";const m=Symbol.for("vuetify:form"),k=h({disabled:Boolean,fastFail:Boolean,lazyValidation:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function x(i){const n=M(i,"modelValue"),f=v(()=>i.disabled),c=v(()=>i.readonly),o=d(!1),l=d([]),r=d([]);async function g(){const e=[];let a=!0;r.value=[],o.value=!0;for(const s of l.value){const t=await s.validate();if(t.length>0&&(a=!1,e.push({id:s.id,errorMessages:t})),!a&&i.fastFail)break}return r.value=e,o.value=!1,{valid:a,errors:r.value}}function y(){l.value.forEach(e=>e.reset()),n.value=null}function V(){l.value.forEach(e=>e.resetValidation()),r.value=[],n.value=null}return F(l,()=>{let e=0,a=0;const s=[];for(const t of l.value)t.isValid===!1?(a++,s.push({id:t.id,errorMessages:t.errorMessages})):t.isValid===!0&&e++;r.value=s,n.value=a>0?!1:e===l.value.length?!0:null},{deep:!0}),b(m,{register:e=>{let{id:a,validate:s,reset:t,resetValidation:u}=e;l.value.some(p=>p.id===a)&&B(`Duplicate input name "${a}"`),l.value.push({id:a,validate:s,reset:t,resetValidation:u,isValid:null,errorMessages:[]})},unregister:e=>{l.value=l.value.filter(a=>a.id!==e)},update:(e,a,s)=>{const t=l.value.find(u=>u.id===e);!t||(t.isValid=a,t.errorMessages=s)},isDisabled:f,isReadonly:c,isValidating:o,items:l,validateOn:w(i,"validateOn")}),{errors:r,isDisabled:f,isReadonly:c,isValidating:o,items:l,validate:g,reset:y,resetValidation:V}}function D(){return E(m,null)}export{x as c,k as m,D as u};
